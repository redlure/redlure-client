<div class="modal-header">
    <h4 class="modal-title">New Campaign: Sending Options</h4>
    <div>
      <button class="btn btn-outline-danger" style="float: right; margin-left: 2px" (click)="closeModal()">Close</button>
      <button class="btn btn-outline-dark" style="float: right" (click)="backModal()">Back</button>
    </div>
  </div>
  <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
    <div class="modal-body">
      <div class="container">
        
       <!--Target List Field-->
       <div class="input-group form-group">
          <div class="input-group-prepend">
              <span class="input-group-text span-login">List</span>
          </div>
          <select class="form-control" formControlName="targetList" [ngClass]="{ 'is-invalid': submitted && f.targetList.errors }">
            <option disabled selected value> -- Select a list -- </option>
            <option *ngFor="let list of newCampaignService.allModules.lists">{{ list }}</option>
          </select>
          <div *ngIf="submitted && f.targetList.errors" class="invalid-feedback">
            <div *ngIf="f.targetList.errors.required">List is required</div>
          </div>
        </div>

        <hr>

         <!--Profile Field-->
         <div class="input-group form-group">
            <div class="input-group-prepend">
                <span class="input-group-text span-login">Profile</span>
            </div>
            <select class="form-control" formControlName="profile" [ngClass]="{ 'is-invalid': submitted && f.profile.errors }">
              <option disabled selected value> -- Select a profile -- </option>
              <option *ngFor="let profile of newCampaignService.allModules.profiles">{{ profile }}</option>
            </select>
            <div *ngIf="submitted && f.profile.errors" class="invalid-feedback">
              <div *ngIf="f.profile.errors.required">Profile is required</div>
            </div>
          </div>

          <!--Batch Number Field-->
          <div class="input-group form-group">
            <div class="input-group-prepend">
              <span class="input-group-text span-login">Send</span>
            </div>
            <input placeholder="5" type="text" formControlName="batchNumber" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.batchNumber.errors }"/>
            <div *ngIf="submitted && f.batchNumber.errors" class="invalid-feedback">
              <div *ngIf="f.batchNumber.errors.pattern">Must be a number</div>
            </div>
            <div class="input-group-append">
              <span class="input-group-text">Emails Every</span>
            </div>

          <!--Batch Interval Field-->
            <input placeholder="10" type="text" formControlName="batchInterval" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.batchInterval.errors }"/>
            <div *ngIf="submitted && f.batchInterval.errors" class="invalid-feedback">
              <div *ngIf="f.batchInterval.errors.pattern">Must be a number</div>
            </div>
            <div class="input-group-append">
              <span class="input-group-text">Minutes</span>
            </div>
          </div>

          <!--Start Date/Time Field-->
          <div class="input-group form-group">
            <div class="input-group-prepend">
              <span class="input-group-text span-login">Start Time</span>
            </div>
            <app-date-time-picker formControlName="startDate" name="startDate" [ngClass]="{ 'is-invalid': submitted && f.startDate.errors }"></app-date-time-picker>   
            <div *ngIf="submitted && f.startDate.errors" class="invalid-feedback">
              <div *ngIf="f.startDate.errors.invalid">Must be a valid date time</div>
            </div>          
          </div>
          
          <div *ngIf="failed" class="text-danger">
            <br>
            <p style="display: inline; margin-right: 1vh">{{ failMsg }}</p>
            <i class="fa fa-times"></i>
          </div>
          
      </div>
    </div>
    <div class="modal-footer">
      <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
      <button ngbAutofocus class="btn btn-outline-dark float-right login_btn">Create</button>
    </div>
  </form>